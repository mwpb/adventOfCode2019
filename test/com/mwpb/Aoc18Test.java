package com.mwpb;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.*;

import static org.junit.jupiter.api.Assertions.*;

class Aoc18Test {

    String mazeString = "#################################################################################\n" +
            "#.#..a....#...#..........y..#.#.........#.I...#...#.....#.............#.......#.#\n" +
            "#.#.###.###.#.#P#########.#.#S#.#######.#.###.#.#.###.#.###.#########.#.#####.#.#\n" +
            "#.#...#.#...#...#.......#.#.#.#...#z....#...#.#.#.#...#...#.#...#.....#.#.......#\n" +
            "#.###.#.#.#######.#######.#.#.###.#.#####.#.#.#.#.#.#####.#.#.#.#.#####.#######.#\n" +
            "#q..#.#...#.#.....#.....#.#.#.....#.....#.#.#.#.#.#.....#..c#.#.#.......#.....#.#\n" +
            "#.###.#####.#.#.#.#.###.#.#.###########.#.#.#.#.#.#####.#####.#.#########.###.#.#\n" +
            "#.#...#.....#.#.#.#...#...#......b......#.#.#...#...#...#...#.#.....#.....#.#.#.#\n" +
            "#.#.###.#####.#.#####.#####.#######.#####.#.#######.#.#.#.#.#.#####.#.#####.#.###\n" +
            "#.#...#.......#.....#.#.....#.....#.#l..#.#...#.D.....#.#.#...#...#...#.....#...#\n" +
            "#.###.###.#######.#.#.#######.###.###.#.#.###.###.#####.#.#######.#####.###.###.#\n" +
            "#...#...#...#...#.#.#.......#...#.....#.#...#...#.#...#n#.#.......#....r..#.#...#\n" +
            "#.#.###.###.#.#.###.#######.###.#######.#######.#.#.#.#.#.#.#####.#.#######.#.###\n" +
            "#.#...#...#.#.#...........#...#.#.#...#.#.......#.#.#.#.#...#...#.#.....#...#...#\n" +
            "###.#####.###.###########.#.###.#.#.#.#.#.###.#####.#.#.#####.###.#######.#.###A#\n" +
            "#...#.....#...#...........#.#...#.#v#...#.#...#.....#.#...#...............#.#...#\n" +
            "#.###.#####.###.#####.#####.#.###.#.#####.#####.#####.#####.#################.###\n" +
            "#.....#.....#...#.G.#.#...#.......#.#...#...#.....#...#.....#.........#.....#.#.#\n" +
            "#.#####.#####.###.#.###.#.#######.#.###.#.#.#.#####.#.#.#####.#######.#.###.#.#.#\n" +
            "#.R...#.#.....#...#.#x..#...F.#.#.#...#.#.#...#...#.#.#.#...#.#.#...#.#...#...#.#\n" +
            "#####.#.#######.###.#.#######.#.#.###.#.#.#####.#.#.#.#.#.#.#.#.#.#.#.###.#####.#\n" +
            "#.#...#.........#...#.#.....#.#...#...#.#.#...#.#...#.#...#.#.#...#.#.....#...#.#\n" +
            "#.#.#########.###.#.###.###.#.#####.###.#.#.#.#.###.#######.#######.#######.#.#.#\n" +
            "#...#.......#.#...#.....#.#.#.......#...#.#.#.#...#.#.....#.......#.#.....T.#...#\n" +
            "#.#####.###.#.#.#########.#.#########.###.#.#.###.#.#.###.#######.#.#.#.#######.#\n" +
            "#...M.#.#...#.#.....#.....#...#.........#.#.#.....#.#.#.#.....#.#.#...#.#.....#.#\n" +
            "#####.#.###.#.#####.###.#.###.#####.###.#.#.#########.#.###.#.#.#.#.###.#.###.#.#\n" +
            "#...#.#...#.#.....#...#.#...#.....#...#.#.#.......#...#.#...#...#.#.#...#...#.#.#\n" +
            "#.###.###.#.#########.#.#########.#####.#.#######.#.###.#.#######.#.#.#####.#.#.#\n" +
            "#...#.....#...........#.....#...#.......#.....#.#...#...#...#.....#.#.......#.#.#\n" +
            "#K#.###################.###.#.#.#######.#####.#.#######.###.#.#####.#########.#.#\n" +
            "#.#...........#.....#...#.#.#.#.......#.#.#...#...#.......#...#.............#.#.#\n" +
            "#.#.###.#######.#.###.###.#.#.#####.###.#.#.###.###.#.###.#####.#############.###\n" +
            "#.#.#...#.......#.....#...#...#...#...#.#...#.......#...#.....#.....#.......#...#\n" +
            "#.#.#.###.#############.#.#####.#.###.#.#.#########.###.#######.#####.#####.###.#\n" +
            "#.#.#...#.....#...H.....#.......#...#...#.#.......#...#.....#...#.....#...#...#.#\n" +
            "#.#.###.#####.#######.#########.###.#####.#.#####.###.#####.#.###.#####.#.###.#.#\n" +
            "#.#.#...#.....#.....#.......#...#...#...#...#.....#.......#.....#.....#.#...#.#.#\n" +
            "#.#.#####.#####.###.#########.###.#####.#####.#######################.#.#.###.#.#\n" +
            "#.#..........u..#.............#o......................................#.#....k..#\n" +
            "#######################################.@.#######################################\n" +
            "#.#.......#.............#.......#...................#.....#....h......#.......#.#\n" +
            "#.#.#####.#.#######.#####.#####.#.#.###.#.###.#####.###O#.###.#######.#.#####.#.#\n" +
            "#.#.....#...#.....#.#.....#.....#.#.#.#.#...#.#.........#.....#...#...#...#.#...#\n" +
            "#.#####.#####.###.#.#.#####.#####.#.#.#.###.#.#################.#.#.###.#.#.###.#\n" +
            "#.E...#.#.#..w#...#.#.#.#.Z.#...#.#.#...#...#.#...#.......#.#.U.#...#...#.#...#.#\n" +
            "#.###.#.#.#.###.###.#.#.#.###.#.#.#.#####.###.#.#.#.#####.#.#.###########.#.#.#.#\n" +
            "#.#...#.#...#...#...#.#.#...#.#.#.#.....#...#...#...#...#.#.#.....#.....#.#.#.#.#\n" +
            "#.#.###.#.###.#.#.###.#.###.#.#.#####.#.###.#########.#.#.#.#####.#.###.#.#.#.#.#\n" +
            "#.#...#.#...#.#.#...#.#...#s..#.....#.#.#.#.#.........#.#.#.#...#...#.#...#.#.#.#\n" +
            "#####.#.###.#.#####.#.#.#.#########.#.#.#.#.#.#####.#####.#.#.#.#####.#####.#.#.#\n" +
            "#.....#.#...#.....#...#.#.......#...#.#.#.#.#.#.....#.....#...#.......#.....#...#\n" +
            "#.#####.#########.#####.#######.#.#####.#.#.###.###.#.#####.###.#######.#########\n" +
            "#.#.....#...#...#.....#.#...#...#.#.....#.#.#...#...#.#.#...#.#.....#...#...#..m#\n" +
            "#.#.#####.#.#.#.#.###.#.#.#.#####.#.###.#.#.#.###.###.#.#.###.#####.#.###.#.###.#\n" +
            "#.#.#.....#.#.#...#.#.#...#...#...#...#.#.#...#.....#.#...#.......#...#..e#...#.#\n" +
            "#.#.#####.#.#.#####.#.###.###.#.###.#.###.###.#######.#.#######.#.#####.#####.#.#\n" +
            "#.#...#...#...#.....#...#.#...#.L.#.#...#.#...#...#...#.....#...#...#...#...#...#\n" +
            "#.###.#.#######.###.###.###.#.###.#.###.#.#.###.#.#.#######.#.#####J#.###.#.###.#\n" +
            "#...#...#...#...#.#.......#.#.#...#...#.#.....#.#...#.#.......#.......#...#.#...#\n" +
            "#.#.#######.#.###.#######.#.###.###.###.#.#####.#####.#.###############.#.###.###\n" +
            "#.#.#.......#.#.....#...#...#...#...#...#...#...#.......#...#.#.....#.#.#.....#.#\n" +
            "#.###.#.#####.#.###.###.#####.###.###.#.#####.###.#########.#.#.###.#.#.#######.#\n" +
            "#...#.#.......#...#...#.#...#.#...#.#.#.#.....#.#...#.....#.#...#.#.#.#.....#...#\n" +
            "#.#.#.###########.#.#.#X#.#.#.###.#.#.###.#####.###.#.#.#.#.#####.#.#.#####.###Q#\n" +
            "#j#.#...#.........#.#.#...#.#.V.#...#...#.#.......#.#.#.#...#.....#.#.....#.#...#\n" +
            "###.###.#.#########.#######.#.#.#######.#.###.#.###.#.#.###.#.#.###.#.#.###.#.#.#\n" +
            "#...#...#...#.....#d....#...#.#.#.......#...#.#.#...#.#...#...#.#...#.#.....#.#.#\n" +
            "#.#.#.#####.###.#.###.#.#.#####.#.#####.###.###.#.#######.#####.#.###W#######.#.#\n" +
            "#.#.#.#.......#.#...#.#.#.#..f..#...#.#.#...#...#...#...#...#...#.#.#.....#...#.#\n" +
            "#.#.#.#######.#.#.#.#.###.###.###.#.#.#.#.###.#####.#.#.###.#.###.#.#####.#.###.#\n" +
            "#.#.#.....C.#.#.#.#.#...#.....#...#.#.#.#.#...........#...#.#.#...#.....#...#.#.#\n" +
            "#.#########.#.###.#.###.#######.###.#.#.#.#####.#########.#.###.###.#.#######.#.#\n" +
            "#...#.....#.#.....#...#.....#.....#.#...#.....#.#.......#...#...#...#.........#.#\n" +
            "#.#.#.###.#.###########.###.#######.###.#.###.###.#####.#####.###.#########.#.#.#\n" +
            "#.#.....#.#.......#...#...#t#.....#...#.#...#.....#...#.....#...#.Y.#.#.....#.#.#\n" +
            "#.#######.#######.#.#.###.#.#.###.###.#.###.#######.#######.###.###.#.#.#######.#\n" +
            "#..g#.#...#.......#.#.#...#...#...#...#.#.#.#.....#.......#...#.#.#.#.#....p..#.#\n" +
            "###.#.#N###.#######.#.#.#######.###.###.#.#.#.###.#######.###.#.#.#.#.#######.#.#\n" +
            "#.....#.............#...#........i..#...#.....#.............#...#.........B.#...#\n" +
            "#################################################################################";

    @Test
    void init() {
        Aoc18 aoc18 = new Aoc18(this.mazeString);
        System.out.println(Arrays.deepToString(aoc18.maze));
        System.out.println(aoc18.keysRemaining);
    }

    @Test
    void bfs() {
        Aoc18 aoc18 = new Aoc18("#################\n" +
                "#i.G..c...e..H.p#\n" +
                "########.########\n" +
                "#j.A..b...f..D.o#\n" +
                "########@########\n" +
                "#k.E..a...g..B.n#\n" +
                "########.########\n" +
                "#l.F..d...h..C.m#\n" +
                "#################");
        aoc18.bfs(aoc18.keysRemaining.get('a'));
        System.out.println(aoc18.distances);
    }

    @Test
    void getDistances() throws FileNotFoundException, IOException {
        Aoc18 aoc18test = new Aoc18("#################\n" +
                "#i.G..c...e..H.p#\n" +
                "########.########\n" +
                "#j.A..b...f..D.o#\n" +
                "########@########\n" +
                "#k.E..a...g..B.n#\n" +
                "########.########\n" +
                "#l.F..d...h..C.m#\n" +
                "#################");
        aoc18test.getDistances();
        System.out.println(aoc18test.distances);

//        Aoc18 aoc18 = new Aoc18(this.mazeString);
//        aoc18.getDistances();
//        System.out.println(aoc18.distances);
    }

    @Test
    void getKeyDist() {
        Aoc18 aoc18test = new Aoc18("#################\n" +
                "#i.G..c...e..H.p#\n" +
                "########.########\n" +
                "#j.A..b...f..D.o#\n" +
                "########@########\n" +
                "#k.E..a...g..B.n#\n" +
                "########.########\n" +
                "#l.F..d...h..C.m#\n" +
                "#################");
        aoc18test.getDistances();
        System.out.println(aoc18test.distances);
        System.out.println(aoc18test.getKeyDist('@', 'a'));
    }

    @Test
    void dijkstra() {
        Aoc18 aoc18test = new Aoc18("#################\n" +
                "#i.G..c...e..H.p#\n" +
                "########.########\n" +
                "#j.A..b...f..D.o#\n" +
                "########@########\n" +
                "#k.E..a...g..B.n#\n" +
                "########.########\n" +
                "#l.F..d...h..C.m#\n" +
                "#################");
        aoc18test.getDistances();
        System.out.println(aoc18test.distances);
        aoc18test.dijkstra();
    }

}